"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.With = void 0;
const useFacetMemo_1 = require("../hooks/useFacetMemo");
const useFacetUnwrap_1 = require("../hooks/useFacetUnwrap");
const useFacetMap_1 = require("../hooks/useFacetMap");
const types_1 = require("../types");
/**
 * Conditionally renders a child if a given facet value is not null or undefined
 *
 * @param data facet value which can be null or undefined
 * @param children render prop which receives the transformed facet
 */
const With = ({ data, children }) => {
    const shouldRenderFacet = (0, useFacetMap_1.useFacetMap)((data) => data !== null && data !== undefined, [], [data]);
    const shouldRender = (0, useFacetUnwrap_1.useFacetUnwrap)(shouldRenderFacet);
    const nonNullData = (0, useFacetMemo_1.useFacetMemo)((data) => (data !== null && data !== undefined ? data : types_1.NO_VALUE), [], [data]);
    return shouldRender === true ? children(nonNullData) : null;
};
exports.With = With;
//# sourceMappingURL=With.js.map