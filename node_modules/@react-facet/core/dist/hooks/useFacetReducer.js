"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.useFacetReducer = void 0;
const react_1 = require("react");
const equalityChecks_1 = require("../equalityChecks");
const useFacetState_1 = require("./useFacetState");
/**
 * Provides a parallel to React's useReducer, but instead returns a facet as the value
 *
 * @param reducer function that will take the previous state and an action to return a new state
 * @param initialState mandatory initial state for the reducer's facet
 * @param equalityCheck optional equality check (has a default checker)
 * @returns
 */
const useFacetReducer = (reducer, initialState, equalityCheck = equalityChecks_1.defaultEqualityCheck) => {
    const [state, setState] = (0, useFacetState_1.useFacetState)(initialState, equalityCheck);
    const dispatch = (0, react_1.useCallback)((action) => {
        setState((previousState) => reducer(previousState, action));
    }, [reducer, setState]);
    return [state, dispatch];
};
exports.useFacetReducer = useFacetReducer;
//# sourceMappingURL=useFacetReducer.js.map