"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.mapFacetArrayLightweight = void 0;
const mapIntoObserveArray_1 = require("./mapIntoObserveArray");
const types_1 = require("../types");
function mapFacetArrayLightweight(facets, fn, equalityCheck) {
    return {
        get: () => {
            const dependencyValues = facets.map((facet) => facet.get());
            const hasAllValues = dependencyValues.reduce((acc, value) => acc && value !== types_1.NO_VALUE, true);
            if (!hasAllValues)
                return types_1.NO_VALUE;
            return fn(...dependencyValues);
        },
        observe: (0, mapIntoObserveArray_1.mapIntoObserveArray)(facets, fn, equalityCheck),
    };
}
exports.mapFacetArrayLightweight = mapFacetArrayLightweight;
//# sourceMappingURL=mapFacetArrayLightweight.js.map